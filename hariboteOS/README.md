## 進める上で参考になった本、サイトなど
- [『30日でできる！OS自作入門』を macOS Catalina で実行する](https://qiita.com/noanoa07/items/8828c37c2e286522c7ee)
- [2進数、8進数、10進数、16進数相互変換ツール](https://hogehoge.tk/tool/number.html)

## 全体の流れ
Chapter1 ~ 7  
電源を入れたら自動で動くプログラムを作る  
主にアセンブラを使い、ちょこちょこC言語  
やらされてる感  
Chapter8 ~ 14  
C言語の基本文法マスター  
アセンブラもこの書籍のレベルに到達  
Chapter15 ~ 21  
やりたい放題OSを作る  
マルチタスク、コンソール  
Chapter22 ~ 28  
OSを多機能にしてサンプルアプリケーションを作る  
Chapter29 ~ 30  
色々仕上げ  

## 読書メモ
### Chapter1章(PCの仕組みからアセンブラ入門まで)
- バイナリエディタを使う
- CPUが理解できるのは0,1の電気信号のみ
- アセンブル
    - 命令[DB]=data byteの略。1バイトだけ直接書く命令。
    - 命令[RESB]=reserve byteの略。指定バイト分の確保をする命令。
    - 数値の前に「0x」をつけると16進数、つけなければ10進数になる
### Chapter2章(アセンブラ学習とMakefile入門)
- アセンブル
    - 命令[ORG]=originの略。実行時にPCのメモリのどこに読み込まれるかを教える命令。
    - 命令[JMP]=jumpの略。C言語で言うgoto文。
    - 命令[entry:]=ラベルの宣言。JMP命令の飛び先の指定などで使う。
    - 命令[MOV]=move。代入する命令。 MOV AC,0というのはAX = 0ということ。
        - MOV AC,[0]みたいに[]はメモリを意味している。
    - メモリはレジスタよりたくさん記憶出来るが遅い。
    - 命令[ADD]=add。足し算命令。 ADD S1,1というのはSI = SI + 1ということ。
    - 命令[CMP]=compare。比較命令。if文。CMP AL,0というのはif (AL == 0)。
    - BIOS=basic input output systemの略。基本的な入出力に関するシステム。
    - 命令[HLT]=halt。停止命令。CPUを無意味に空回ししないように。SQLconの終了版。
### Chapter3章(32ビットモード突入とC言語導入)
- アセンブル
    - 命令[JC]=jump if carryの略。キャリーフラグが1だったらジャンプしなさい命令。
    - 命令[JNC]=jump if not carryの略。キャリーフラグが0だったらジャンプしなさい命令。
    - 命令[JAE]=jump if above or equalの略。大きいか等しければジャンプしなさい命令。
    - 命令[JBE]=jump if below or equalの略。小さいか等しければジャンプしなさい命令。
    - 命令[JB]=jump if belowの略。小さければジャンプしなさい命令。
    - 命令[EQU]=equalの略。
### Chapter4章(C言語と画面表示の練習)
- メモリ番地のことをC言語ではポインタという。  
C言語の```p = (char *) i;```と```*p = i & 0x0f;```  
アセンブラで表すと```MOV ECX,i```と```MOV BYTE [ECX],(i & 0x0f)```
- C言語の p[i]って *(p + i)と完全に同じ意味。つまりpっていう配列のi番目というのは、pが指しているメモリのi番目にあるものと同義。
### Chapter5章(構造体と文字表示とGDT/IDT初期化)
```*(a + i)を省略してa[i]```と表すみたいに  
```(*binfo).scrnx```の省略表現は```binfo -> scrnx```
- 文字列は文字コードを順番にメモリに並べて最後に0x00をつけたもの
- GDTはglobal (segment) descriptor tableの略。大域セグメント記述子表。
- IDTはinterput descriptor tableの略。割り込み記述子表。
- 割り込みという仕組みが用意されているから、常にキーワードの入力などをCPUが監視せずに通常処理にリソースが割ける。
### Chapter6章(分割コンパイルと割り込み処理)
- C言語で関数の宣言や#defineだけを集めたファイルをヘッダファイルという。
- ```#include <stdio.h>```というものがあるが、これはコンパイラのおまけに付いてくる。いわゆる標準ライブラリで  
```#include "hoge"```は自作ライブラリ。
### Chapter7章(FIFOとマウス制御)
- キーボードの割り込み処理とマウスの割り込み処理の実装はほとんど同じ
- マウスの方がデータの送信頻度、位置など送る情報が多いので、確保するメモリ容量は多め
### Chapter8章(マウス制御と32ビットモードへ切り替え)
- マウスが動くようになった
### Chapter9章(メモリ管理)
- メモリ管理について
- 空きメモリを確認して必要なメモリサイズに適したメモリに入れる
### Chapter10章(重ね合わせ処理)
- 複数ウィンドウの表示について
- 透明の下敷きをイメージする
- アルゴリズムの良さがOSの速さにつながる
### Chapter11章(ついにウィンドウ)
- 
### Chapter12章(タイマー 1)
- 動作内容は一定時間ごとに割り込みが行われる
- タイムアウト機能やベンチマークプログラムにも使われている
- 割り込み処理の時間は短く
### Chapter13章(タイマー 2)
- バッファの確認処理を減らしたことで処理時間が高速化
### Chapter14章(高解像度・キー入力)
- 以前はPCの規格を決めたIBMが中心となって、画面モードに関する規格を決めていた。
- ビデオカード各社はIBMの仕様に合わせて作っていたがビデオカード会社の方がスペックが良くなった
- ビデオカード会社同士で競争が起きて設定方法や使い方はバラバラに、、、
- ビデオカード会社はVESA(ベサ)という協会を作った
- 完全に共通ではないが、ほぼ共通の設定方法を決めて専用のBIOSを作った(VESA BIOS extension VESA-BIOS拡張)
### Chapter15章(マルチタスク 1)
- マルチタスクは実は同時に動いているわけはない
- 少しずつ切り替えながら行っている(普通のOSでは切り替えは0.01~0.03秒くらいで行われている)タスクスイッチという
- タスクスイッチの実行時間(タスクスイッチの命令が呼ばれるとCPUはレジスタの値をすべてメモリに書き込んで、後で戻ってきたときに実行を再開出来るようにする。そしてこれから実行するプログラムのためにメモリから全部のレジスタの値を読み込む)
### Chapter00章()
